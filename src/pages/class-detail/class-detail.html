<!--
  Generated template for the detailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title *ngIf="detail">
      <span [innerHTML]="detail.bean.name | safeHtml"></span>
    </ion-title>
    <!-- <ion-buttons end>
      <button ion-button icon-only>
        <ion-icon name="settings"></ion-icon>
      </button>
    </ion-buttons> -->
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="class-detail" *ngIf="detail">
    <div class="details form-grid">
      <ion-grid>
        <ion-row>
          <ion-col col-12>
            区域：{{detail.bean.caption.area}}
          </ion-col>
        </ion-row>
        <ion-row [ngClass]="{'highlight': statusHighlight}">
          <ion-col col-12>
            状态：{{statusProperty}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12>
            班级代码：{{detail.bean.code}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            学年：{{detail.bean.year}}
          </ion-col>
          <ion-col col-6>
            学期：{{detail.bean.caption.term}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            专业：{{detail.bean.spelName}}
          </ion-col>
          <ion-col col-6>
            程度：{{detail.bean.caption.degree}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12>
            开课时间：{{dateFormat(detail.bean.beginDate)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-6>
            课次：{{detail.bean.classTime}}
          </ion-col>
          <ion-col col-6>
            总费用：{{detail.bean.totalFee}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12>
            报名年龄：<span [innerHTML]="getLimitation(detail) | safeHtml"></span>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col col-12>
            课表信息：<span [innerHTML]="detail.bean.schedule | safeHtml"></span>
          </ion-col>
        </ion-row>
        <ion-row class="multi-row">
          <ion-col col-4>
            班级描述：
          </ion-col>
          <ion-col col-8 [innerHTML]="detail.bean.description | safeHtml"></ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div class="contract">
      <ion-icon name="checkmark-circle-outline" *ngIf="!agreementChecked" (click)="agreementChecked = true"></ion-icon>
      <ion-icon name="md-checkmark-circle" *ngIf="agreementChecked" (click)="agreementChecked = false"></ion-icon>
      &nbsp;同意并接受<span (click)="openContract()">《少年宫报名协议》</span>
    </div>
    <div class="submit-button-container">
      <button (click)="applyNow(detail.bean.id)" [ngClass]="{'disabled': !canApply}">
        立即报名
      </button>
    </div>
  </div>
</ion-content>